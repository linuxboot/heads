modules-$(CONFIG_LIBREMKEY) += libremkey-hotp-verification

libremkey-hotp-verification_depends := libusb $(musl_dep)

libremkey-hotp-verification_version := git
libremkey-hotp-verification_dir := libremkey-hotp-verification
libremkey-hotp-verification_repo := --recursive https://github.com/Nitrokey/nitrokey-hotp-verification

libremkey-hotp-verification_make_environment := CPATH="$(TARGET_CPATH)" C_INCLUDE_PATH="$(TARGET_C_INCLUDE_PATH)" CPLUS_INCLUDE_PATH="$(TARGET_CPLUS_INCLUDE_PATH)" OBJC_INCLUDE_PATH="$(TARGET_OBJC_INCLUDE_PATH)" LIBRARY_PATH="$(TARGET_LIBRARY_PATH)"
libremkey-hotp-verification_target := \
	$(MAKE_JOBS) \
	$(CROSS_TOOLS) \

libremkey-hotp-verification_output := \
	libremkey_hotp_verification \
	libremkey_hotp_initialize

libremkey-hotp-verification_configure := \
  INSTALL="$(INSTALL)" \
  cmake -DCMAKE_TOOLCHAIN_FILE=./Toolchain-heads.cmake -DCMAKE_AR="$(CROSS)ar" . 
